<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Alarm Clock</title>
<style>
body{
  font-family: Arial, sans-serif;
  background-color: #1e1e1e;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}
.container{
  background: #333;
  padding: 15px;
  border-radius: 10px;
  text-align: center;
  width: 280px;
}
h1{color: #ffcc00; font-size: 1.4em;}
.clock{font-size: 20px; margin-bottom: 8px;}
input,button{
  padding: 6px;
  margin: 4px;
  border: none;
  border-radius: 5px;
  font-size: 0.9em;
}
input{width: 80%;}
button{background: #ffcc00; cursor: pointer; font-weight: bold;}
button:hover{background: #ffaa00;}
.days{
  display: flex;
  justify-content: center;
  gap: 4px;
  margin: 6px 0;
}
.days label{
  font-size: 0.8em;
  background: #555;
  padding: 3px 5px;
  border-radius: 5px;
}
.alarm-list{margin-top: 8px; font-size: 0.85em;}
.alarm-item{
  background: #555;
  margin: 4px 0;
  padding: 4px;
  border-radius: 5px;
  display: flex;
  justify-content: space-between;
}
/* modal */
.modal{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center}
.modal-card{background:#222;padding:16px;border-radius:8px;text-align:center;width:260px}
.modal-label{font-weight:700;margin-bottom:10px}
.stop-btn{background:#ef4444;color:white;padding:8px 12px;border-radius:6px;border:none;cursor:pointer}
</style>
</head>
<body>
<div class="container">
  <h1>Alarm Clock</h1>
  <div class="clock" id="clock">--:--:--</div>
  <input type="time" id="timeInput">
  <div class="days">
    <label><input type="checkbox" value="0">Sun</label>
    <label><input type="checkbox" value="1">Mon</label>
    <label><input type="checkbox" value="2">Tue</label>
    <label><input type="checkbox" value="3">Wed</label>
    <label><input type="checkbox" value="4">Thu</label>
    <label><input type="checkbox" value="5">Fri</label>
    <label><input type="checkbox" value="6">Sat</label>
  </div>
  <input type="text" id="labelInput" placeholder="Alarm label">
  <button id="addAlarm">Add Alarm</button>
  <div id="alarmList" class="alarm-list"></div>
  <audio id="alarmSound" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"></audio>
</div>

<!-- Modal that appears when alarm rings -->
<div id="modal" class="modal" role="dialog" aria-modal="true">
  <div class="modal-card">
    <div id="modalLabel" class="modal-label">Alarm</div>
    <button id="stopBtn" class="stop-btn">Stop</button>
  </div>
</div>

<script>
// Simple alarm clock code
let alarms = []
let ringing = false

function updateClock(){
  const now = new Date();
  document.getElementById('clock').textContent = now.toLocaleTimeString();
}

function renderAlarms(){
  const list = document.getElementById('alarmList');
  list.innerHTML = '';
  alarms.forEach((a,i)=>{
    const div = document.createElement('div');
    div.className = 'alarm-item';
    const daysText = a.days && a.days.length > 0 ? a.days.map(d=>['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][d]).join(', ') : 'Daily';
    div.innerHTML = `${a.time} - ${a.label} (${daysText}) <button onclick="removeAlarm(${i})">X</button>`;
    list.appendChild(div);
  });
}

function addAlarm(){
  const time = document.getElementById('timeInput').value;
  const label = document.getElementById('labelInput').value || 'Alarm';
  const dayInputs = document.querySelectorAll('.days input:checked');
  const days = Array.from(dayInputs).map(d=>parseInt(d.value));
  if(!time){ alert('Please select a time'); return; }
  alarms.push({time,label,days});
  renderAlarms();
}

function removeAlarm(index){
  alarms.splice(index,1);
  renderAlarms();
}

function showModal(label){
  const modal = document.getElementById('modal');
  const lbl = document.getElementById('modalLabel');
  lbl.textContent = label || 'Alarm';
  modal.style.display = 'flex';
}
function hideModal(){
  const modal = document.getElementById('modal');
  modal.style.display = 'none';
}

function stopAlarm(){
  const sound = document.getElementById('alarmSound');
  try{ sound.pause(); sound.currentTime = 0; sound.loop = false; } catch(e){}
  ringing = false;
  hideModal();
}

function checkAlarms(){
  const now = new Date();
  const current = now.getHours().toString().padStart(2,'0') + ':' + now.getMinutes().toString().padStart(2,'0');
  const today = now.getDay();
  alarms.forEach(a => {
    if(a.time === current && ( !a.days || a.days.length === 0 || a.days.includes(today) ) && !ringing){
      const sound = document.getElementById('alarmSound');
      sound.currentTime = 0;
      sound.loop = true;
      sound.play().catch(()=>{});
      ringing = true;
      showModal(a.label);
    }
  });
}

// start intervals
setInterval(updateClock, 1000);
setInterval(checkAlarms, 1000);

// wire buttons (elements exist because script is at end)
document.getElementById('addAlarm').onclick = addAlarm;
document.getElementById('stopBtn').onclick = stopAlarm;
</script>
</body>
</html>
